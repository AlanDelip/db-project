(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{121:function(e,t,a){e.exports=a(209)},175:function(e,t,a){},177:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);a(122),a(137),a(138),a(99),a(109),a(162);!function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}();var n=a(1),r=a.n(n),o=a(26),l=a.n(o),s=(a(175),a(6)),c=a(7),i=a(9),m=a(8),u=a(10),p=a(290),d=a(291),h=a(280),g=(a(177),a(289)),E=a(3),f=a(36),b={items:[{name:"Dashboard",url:"/userDashboard",icon:"icon-speedometer"},{title:!0,name:"Favorites",wrapper:{element:"",attributes:{}},class:""},{name:"Category",url:"/userFavorCategory",icon:"icon-star"},{name:"Ingredient",url:"/userFavorIngredient",icon:"icon-star"},{name:"Wishlist",url:"/userWishlist",icon:"icon-star"},{title:!0,name:"History",wrapper:{element:"",attributes:{}},class:""},{name:"Review",url:"/userReviews",icon:"icon-cursor"},{title:!0,name:"Social",wrapper:{element:"",attributes:{}},class:""},{name:"Friends",url:"/friends",icon:"icon-people"}]},v={items:[{name:"Restaurant Manage",url:"/restaurantManage",icon:"icon-speedometer"}]},w=a(25),y=a.n(w);function O(){return r.a.createElement("div",null,"Loading...")}var j=y()({loader:function(){return Promise.all([a.e(0),a.e(12),a.e(2)]).then(a.bind(null,281))},loading:O}),N=y()({loader:function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,282))},loading:O}),C=y()({loader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,283))},loading:O}),k=y()({loader:function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,284))},loading:O}),x=y()({loader:function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,285))},loading:O}),S=y()({loader:function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,286))},loading:O}),R=y()({loader:function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,292))},loading:O}),U=y()({loader:function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,287))},loading:O}),P=y()({loader:function(){return Promise.all([a.e(0),a.e(10)]).then(a.bind(null,288))},loading:O}),I=[{path:"/",exact:!0,name:"Home",component:A},{path:"/userDashboard",name:"RestaurantManage",component:j},{path:"/userFavorCategory",name:"RestaurantManage",component:C},{path:"/userFavorIngredient",name:"RestaurantManage",component:k},{path:"/userWishlist",name:"UserWishlist",component:x},{path:"/userReviews",name:"UserReviews",component:S},{path:"/friends",name:"Friends",component:R},{path:"/restaurant",name:"Restaurant",component:N},{path:"/restaurantManage",name:"RestaurantManage",component:U},{path:"/singleRestaurantManage",name:"SingleRestaurantManage",component:P}],T=a(47),_=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;e.children,Object(T.a)(e,["children"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("a",{href:"https://coreui.io"},"CoreUI")," \xa9 2018 creativeLabs."),r.a.createElement("span",{className:"ml-auto"},"Powered by ",r.a.createElement("a",{href:"https://coreui.io/react"},"CoreUI for React")))}}]),t}(n.Component);_.defaultProps={};var F=_,W=a(236),L=a(79),M=a.n(L),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).toggle=function(){a.setState({dropdownOpen:!a.state.dropdownOpen})},a.state={username:sessionStorage.getItem("user_name"),dropdownOpen:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;e.children,Object(T.a)(e,["children"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.G,{className:"ml-auto navbar ".concat(this.props.transparent?"navbar-transparent":""),pills:!0},r.a.createElement(E.I,{href:"#/userdashboard"},"Restaurants"),r.a.createElement(E.I,{href:"#/userreviews"},"Review"),r.a.createElement(E.I,{href:"#/friends"},"Friends"),r.a.createElement(E.o,{className:"nav-link",toggle:this.toggle,isOpen:this.state.dropdownOpen},r.a.createElement(E.r,{style:{fontSize:"1em"},nav:!0,caret:!0},"Favourites"),r.a.createElement(E.q,null,r.a.createElement(E.p,null,r.a.createElement(W.a,{to:"/userfavorcategory"},"Category")),r.a.createElement(E.p,null,r.a.createElement(W.a,{to:"/userfavoringredient"},"Ingredient")),r.a.createElement(E.p,null,r.a.createElement(W.a,{to:"/userwishlist"},"Wishlist")))),this.state.username?r.a.createElement(f.c,{direction:"down"},r.a.createElement(E.r,{nav:!0},r.a.createElement("b",{className:this.props.transparent?"navbar-transparent":""},this.state.username),r.a.createElement("img",{src:M.a,className:"img-avatar",alt:"yummy-logo"})),r.a.createElement(E.q,{right:!0,style:{right:"auto"}},r.a.createElement(E.p,null,r.a.createElement(W.a,{to:"/login"},r.a.createElement("i",{className:"fa fa-lock"})," Logout")))):r.a.createElement(f.c,{direction:"down"},r.a.createElement(E.r,{nav:!0},r.a.createElement(W.a,{to:"/login",style:{textDecoration:"none"},className:this.props.transparent?"navbar-transparent":""},"Login"),r.a.createElement("img",{src:M.a,className:"img-avatar",alt:"yummy-logo"})))))}}]),t}(n.Component);D.defaultProps={};var J=D,A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={username:sessionStorage.getItem("user_name"),navigation:"Admin"===sessionStorage.getItem("user_name")?v:b,dashboard:"Admin"===sessionStorage.getItem("user_name")?"/restaurantManage":"/userDashboard",navbarTransparent:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(f.b,null,r.a.createElement(J,{transparent:"#/userdashboard"===window.location.hash.toLowerCase()})),r.a.createElement("div",{className:"app-body"},r.a.createElement("main",{className:"main"},r.a.createElement(E.n,{fluid:!0},r.a.createElement(d.a,null,I.map(function(e,t){if(e.component)return r.a.createElement(h.a,{key:t,path:e.path,exact:e.exact,name:e.name,render:function(t){return r.a.createElement(e.component,t)}})}),r.a.createElement(g.a,{from:"/",to:this.state.dashboard}))))),r.a.createElement(f.a,null,r.a.createElement(F,null)))}}]),t}(n.Component),H=a(60),z=a(11),G=a(46),q=a.n(G),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleError=function(){a.setState({error:!1})},a.handleChange=function(e){a.setState(Object(H.a)({},e.target.name,e.target.value))},a.state={username:"",password:"",error:!1,error_msg:""},a.loginUser=a.loginUser.bind(Object(z.a)(Object(z.a)(a))),a.handleChange=a.handleChange.bind(Object(z.a)(Object(z.a)(a))),a.register=a.register.bind(Object(z.a)(Object(z.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"loginUser",value:function(){var e=this;q.a.post("http://localhost:8080/api/login",{username:this.state.username,password:this.state.password}).then(function(t){t.data.status?(sessionStorage.setItem("user_id",t.data.uid),sessionStorage.setItem("user_name",e.state.username),"Admin"===e.state.username?e.props.history.push("./restaurantManage"):e.props.history.push("./userDashboard")):e.setState({error:!0,error_msg:t.data.msg})},function(t){console.error(t),e.setState({error:!0,error_msg:t.msg})})}},{key:"register",value:function(){this.props.history.push("./register")}},{key:"render",value:function(){return r.a.createElement("div",{className:"app flex-row align-items-center login-bg"},r.a.createElement(E.n,null,r.a.createElement(E.J,{className:"justify-content-center"},r.a.createElement(E.l,{md:"8"},r.a.createElement(E.h,null,r.a.createElement(E.e,{className:"p-4"},r.a.createElement(E.f,null,r.a.createElement(E.s,null,r.a.createElement("h1",null,"Login"),r.a.createElement("p",{className:"text-muted"},"Sign In to your account"),r.a.createElement(E.v,{className:"mb-3"},r.a.createElement(E.w,{addonType:"prepend"},r.a.createElement(E.y,null,r.a.createElement("i",{className:"icon-user"}))),r.a.createElement(E.u,{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange})),r.a.createElement(E.v,{className:"mb-4"},r.a.createElement(E.w,{addonType:"prepend"},r.a.createElement(E.y,null,r.a.createElement("i",{className:"icon-lock"}))),r.a.createElement(E.u,{type:"password",name:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.handleChange})),r.a.createElement(E.J,null,r.a.createElement(E.l,{xs:"6"},r.a.createElement(E.d,{color:"primary",className:"px-4",onClick:this.loginUser},"Login")))))),r.a.createElement(E.e,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},r.a.createElement(E.f,{className:"text-center"},r.a.createElement("div",null,r.a.createElement("h2",null,"Sign up"),r.a.createElement("p",null,"Sign up for your favourite restaurants. They're all in ",r.a.createElement("b",null,"Yummy Restaurants!")),r.a.createElement(E.d,{color:"primary",className:"mt-3",active:!0,onClick:this.register},"Register Now!")))))))),r.a.createElement(E.C,{isOpen:this.state.error,toggle:this.handleError,className:"modal-danger"},r.a.createElement(E.F,null,this.state.error_msg),r.a.createElement(E.D,null,"Something went wrong :( Please check again."),r.a.createElement(E.E,null,r.a.createElement(E.d,{color:"primary",onClick:this.handleError},"Got it"))))}}]),t}(n.Component),Y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app flex-row align-items-center"},r.a.createElement(E.n,null,r.a.createElement(E.J,{className:"justify-content-center"},r.a.createElement(E.l,{md:"6"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"404"),r.a.createElement("h4",{className:"pt-3"},"Oops! You're lost."),r.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for was not found.")),r.a.createElement(E.v,{className:"input-prepend"},r.a.createElement(E.w,{addonType:"prepend"},r.a.createElement(E.y,null,r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement(E.u,{size:"16",type:"text",placeholder:"What are you looking for?"}),r.a.createElement(E.w,{addonType:"append"},r.a.createElement(E.d,{color:"info"},"Search")))))))}}]),t}(n.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app flex-row align-items-center"},r.a.createElement(E.n,null,r.a.createElement(E.J,{className:"justify-content-center"},r.a.createElement(E.l,{md:"6"},r.a.createElement("span",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"500"),r.a.createElement("h4",{className:"pt-3"},"Houston, we have a problem!"),r.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for is temporarily unavailable.")),r.a.createElement(E.v,{className:"input-prepend"},r.a.createElement(E.w,{addonType:"prepend"},r.a.createElement(E.y,null,r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement(E.u,{size:"16",type:"text",placeholder:"What are you looking for?"}),r.a.createElement(E.w,{addonType:"append"},r.a.createElement(E.d,{color:"info"},"Search")))))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleError=function(){a.setState({error:!1})},a.handleChange=function(e){a.setState(Object(H.a)({},e.target.name,e.target.value))},a.state={username:"",password:"",error:!1,error_msg:""},a.createUser=a.createUser.bind(Object(z.a)(Object(z.a)(a))),a.loginUser=a.loginUser.bind(Object(z.a)(Object(z.a)(a))),a.handleChange=a.handleChange.bind(Object(z.a)(Object(z.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"createUser",value:function(){var e=this;console.log("valid new user with username:"+this.state.username+", password:"+this.state.password),q.a.post("http://localhost:8080/api/register",{username:this.state.username,password:this.state.password}).then(function(t){t.data.status?(window.alert("create successfully, redirect to login page!"),e.props.history.push("./login")):e.setState({error:!0,error_msg:t.data.msg})},function(t){console.error(t),e.setState({error:!0,error_msg:t.msg})})}},{key:"loginUser",value:function(){this.props.history.push("./login")}},{key:"render",value:function(){return r.a.createElement("div",{className:"app flex-row align-items-center login-bg"},r.a.createElement(E.n,null,r.a.createElement(E.J,{className:"justify-content-center"},r.a.createElement(E.l,{md:"6"},r.a.createElement(E.e,{className:"mx-4"},r.a.createElement(E.f,{className:"p-4"},r.a.createElement(E.s,null,r.a.createElement("h1",null,"Register"),r.a.createElement("p",{className:"text-muted"},"Create your account"),r.a.createElement(E.v,{className:"mb-3"},r.a.createElement(E.w,{addonType:"prepend"},r.a.createElement(E.y,null,r.a.createElement("i",{className:"icon-user"}))),r.a.createElement(E.u,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(E.v,{className:"mb-3"},r.a.createElement(E.w,{addonType:"prepend"},r.a.createElement(E.y,null,r.a.createElement("i",{className:"icon-lock"}))),r.a.createElement(E.u,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(E.d,{color:"success",block:!0,onClick:this.createUser},"Create Account"),r.a.createElement(E.d,{color:"info",style:{color:"white"},block:!0,onClick:this.loginUser},"Login"))))))),r.a.createElement(E.C,{isOpen:this.state.error,toggle:this.handleError,className:"modal-danger"},r.a.createElement(E.F,null,this.state.error_msg),r.a.createElement(E.D,null,"Something went wrong :( Please check again."),r.a.createElement(E.E,null,r.a.createElement(E.d,{color:"primary",onClick:this.handleError},"Got it"))))}}]),t}(n.Component),K=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/login",name:"Login Page",component:B}),r.a.createElement(h.a,{exact:!0,path:"/register",name:"Register Page",component:$}),r.a.createElement(h.a,{exact:!0,path:"/404",name:"Page 404",component:Y}),r.a.createElement(h.a,{exact:!0,path:"/500",name:"Page 500",component:Q}),r.a.createElement(h.a,{path:"/",name:"Home",component:A})))}}]),t}(n.Component),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(K,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/static/service-worker.js");V?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):X(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):X(t,e)})}}()},79:function(e,t,a){e.exports=a.p+"static/media/yelp-logo.bc3eb581.svg"}},[[121,13,11]]]);
//# sourceMappingURL=main.354d336e.chunk.js.map