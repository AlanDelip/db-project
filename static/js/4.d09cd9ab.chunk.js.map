{"version":3,"sources":["views/UserFavorCategory/UserFavorCategory.js"],"names":["UserFavorCategory","props","_this","Object","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","userID","sessionStorage","getItem","categories","cid","name","create_time","allCategories","modal","success","warning","addCategory","bind","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","deleteCategory","toggle","toggleSuccess","toggleWarning","updateFavorCategories","axios","get","then","response","console","log","data","setState","error","_this2","_this3","undefined","window","alert","selected_value","document","querySelector","value","post","_this4","delete","_this5","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","reactstrap__WEBPACK_IMPORTED_MODULE_7__","xs","sm","lg","map","object","i","key","onClick","color","row","md","type","id","isOpen","Component"],"mappings":"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","file":"static/js/4.d09cd9ab.chunk.js","sourcesContent":["/**\r\n * Created by GraceHan on 11/15/18.\r\n */\r\nimport React, {Component, lazy, Suspense} from 'react';\r\nimport {\r\n\tBadge,\r\n\tCard,\r\n\tCardBody,\r\n\tCardFooter,\r\n\tCardHeader,\r\n\tCardTitle,\r\n\tList,\r\n\tListGroup,\r\n\tListGroupItem,\r\n\tListGroupItemHeading,\r\n\tListGroupItemText,\r\n\tCollapse,\r\n\tForm,\r\n\tFormGroup,\r\n\tLabel,\r\n\tModal,\r\n\tModalHeader,\r\n\tModalBody,\r\n\tModalFooter,\r\n\tInput,\r\n\tFade,\r\n\tCol,\r\n\tRow,\r\n\tButton\r\n} from 'reactstrap';\r\nimport {CustomTooltips} from '@coreui/coreui-plugin-chartjs-custom-tooltips';\r\nimport {getStyle, hexToRgba} from '@coreui/coreui/dist/js/coreui-utilities'\r\nimport axios from 'axios';\r\n\r\nconst Loading = () => <div>Loading...</div>\r\n\r\nclass UserFavorCategory extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuserID: sessionStorage.getItem(\"user_id\"),\r\n\t\t\tcategories: [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"cid\": 1,\r\n\t\t\t\t\t\"name\": \"Pizza\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"cid\": 2,\r\n\t\t\t\t\t\"name\": \"Chinese cuisine\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tallCategories: [],\r\n\t\t\tmodal: false,\r\n\t\t\tsuccess: false,\r\n\t\t\twarning: false\r\n\t\t};\r\n\t\tthis.addCategory = this.addCategory.bind(this);\r\n\t\tthis.deleteCategory = this.deleteCategory.bind(this);\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t\tthis.toggleSuccess = this.toggleSuccess.bind(this);\r\n\t\tthis.toggleWarning = this.toggleWarning.bind(this);\r\n\t\tthis.updateFavorCategories = this.updateFavorCategories.bind(this);\r\n\r\n\t\tthis.updateFavorCategories();\r\n\t\taxios.get('http://34.83.23.47:8080/api/category')\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tallCategories: response.data\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdateFavorCategories() {\r\n\t\taxios.get('http://34.83.23.47:8080/api/category/' + this.state.userID)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcategories: response.data\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\taddCategory() {\r\n\t\tif (this.state.userID == undefined) {\r\n\t\t\twindow.alert(\"You have not login yet, please login first!\");\r\n\t\t} else {\r\n\t\t\tconst selected_value = document.querySelector('#select option:checked').value;\r\n\t\t\taxios.post('http://34.83.23.47:8080/api/category/' + this.state.userID, {\r\n\t\t\t\tcid: selected_value\r\n\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tthis.toggleSuccess();\r\n\t\t\t\t\t\tthis.updateFavorCategories();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteCategory(cid) {\r\n\t\t//delete favorite category\r\n\t\tif (this.state.userID == undefined) {\r\n\t\t\twindow.alert(\"You have not login yet, please login first!\");\r\n\t\t} else {\r\n\t\t\taxios.delete('http://34.83.23.47:8080/api/category/' + this.state.userID, {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcid: cid\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tthis.toggleSuccess();\r\n\t\t\t\t\t\tthis.updateFavorCategories();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t//add comment alert\r\n\ttoggle() {\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal,\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleSuccess() {\r\n\t\tthis.setState({\r\n\t\t\tsuccess: !this.state.success,\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleWarning() {\r\n\t\tthis.setState({\r\n\t\t\twarning: !this.state.warning,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"animated fadeIn normal-wrapper\">\r\n\t\t\t\t<h1>Your Favourite Cateogry</h1>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs=\"6\" sm=\"6\" lg=\"9\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t{this.state.categories.map((object, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <Col lg=\"6\" key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{object.name}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block btn-small btn-pill float-right btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.deleteCategory.bind(this, object.cid)}>Delete</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span color=\"info\">Added at {object.create_time}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs=\"6\" sm=\"6\" lg=\"3\">\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<CardHeader>\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-align-justify\"/><strong>Add Favorite Category</strong>\r\n\t\t\t\t\t\t\t</CardHeader>\r\n\t\t\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<Input type=\"select\" className=\"400px\" name=\"multiple-select\" id=\"select\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.allCategories.map((object, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i} value={object.cid}>{object.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t<Button className=\"d-inline-block btn-small btn-pill float-right btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.addCategory}>Add</Button>\r\n\r\n\t\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Modal isOpen={this.state.success} toggle={this.toggleSuccess}\r\n\t\t\t\t\t\t   className={'modal-success ' + this.props.className}>\r\n\t\t\t\t\t\t<ModalHeader toggle={this.toggleSuccess}>Operation Success</ModalHeader>\r\n\t\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t\tYour change has been successfully updated.\r\n\t\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t\t<ModalFooter>\r\n\t\t\t\t\t\t\t<Button color=\"success\" onClick={this.toggleSuccess}>OK</Button>{' '}\r\n\t\t\t\t\t\t</ModalFooter>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t\t<Modal isOpen={this.state.warning} toggle={this.toggleWarning}\r\n\t\t\t\t\t\t   className={'modal-warning ' + this.props.className}>\r\n\t\t\t\t\t\t<ModalHeader toggle={this.toggleWarning}>Review Fail</ModalHeader>\r\n\t\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t\tPlease provide un-empty reviews.\r\n\t\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t\t<ModalFooter>\r\n\t\t\t\t\t\t\t<Button color=\"warning\" onClick={this.toggleWarning}>OK</Button>{' '}\r\n\t\t\t\t\t\t\t<Button color=\"secondary\" onClick={this.toggleWarning}>Cancel</Button>\r\n\t\t\t\t\t\t</ModalFooter>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UserFavorCategory;\r\n"],"sourceRoot":""}