(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{284:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n(7),l=n(9),s=n(8),c=n(10),r=n(11),o=n(1),g=n.n(o),d=n(3),u=(n(212),n(213),n(46)),m=n.n(u),h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={userID:sessionStorage.getItem("user_id"),ingredients:[{iid:1,name:"beef",create_time:"2018/10/9 19:04:11"},{iid:2,name:"pork",create_time:"2018/10/9 19:04:11"},{iid:3,name:"chicken",create_time:"2018/10/9 19:04:11"},{iid:4,name:"fish",create_time:"2018/10/9 19:04:11"},{iid:5,name:"vegetable",create_time:"2018/10/9 19:04:11"}],allIngredients:[],modal:!1,success:!1,warning:!1},n.addIngredient=n.addIngredient.bind(Object(r.a)(Object(r.a)(n))),n.deleteIngredient=n.deleteIngredient.bind(Object(r.a)(Object(r.a)(n))),n.toggle=n.toggle.bind(Object(r.a)(Object(r.a)(n))),n.toggleSuccess=n.toggleSuccess.bind(Object(r.a)(Object(r.a)(n))),n.toggleWarning=n.toggleWarning.bind(Object(r.a)(Object(r.a)(n))),n.updateFavorIngredients=n.updateFavorIngredients.bind(Object(r.a)(Object(r.a)(n))),n.updateFavorIngredients(),m.a.get("http://localhost:8080/api/ingredient").then(function(e){n.setState({allIngredients:e.data})},function(e){console.log(e)}),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"updateFavorIngredients",value:function(){var e=this;m.a.get("http://localhost:8080/api/ingredient/"+this.state.userID).then(function(t){e.setState({ingredients:t.data})},function(e){console.log(e)})}},{key:"addIngredient",value:function(){var e=this;if(void 0==this.state.userID)window.alert("You have not login yet, please login first!");else{var t=document.querySelector("#select option:checked").value;m.a.post("http://localhost:8080/api/ingredient/"+this.state.userID,{iid:t}).then(function(t){e.toggleSuccess(),e.updateFavorIngredients()},function(e){console.log(e)})}}},{key:"deleteIngredient",value:function(e){var t=this;void 0==this.state.userID?window.alert("You have not login yet, please login first!"):m.a.delete("http://localhost:8080/api/ingredient/"+this.state.userID,{data:{iid:e}}).then(function(e){t.toggleSuccess(),t.updateFavorIngredients()},function(e){console.log(e)})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"toggleSuccess",value:function(){this.setState({success:!this.state.success})}},{key:"toggleWarning",value:function(){this.setState({warning:!this.state.warning})}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"animated fadeIn normal-wrapper"},g.a.createElement("h1",null,"Your Favourite Ingredient"),g.a.createElement(d.J,null,g.a.createElement(d.l,{xs:"6",sm:"6",lg:"9"},g.a.createElement(d.J,null,this.state.ingredients.map(function(t,n){return g.a.createElement(d.l,{lg:"6",key:n},g.a.createElement(d.e,null,g.a.createElement(d.f,null,g.a.createElement("h4",null,t.name),g.a.createElement(d.d,{className:"d-inline-block btn-small btn-pill float-right btn-outline-danger",onClick:e.deleteIngredient.bind(e,t.iid)},"Delete"),g.a.createElement("span",{color:"info"},"Added at ",t.create_time))))}))),g.a.createElement(d.l,{xs:"6",sm:"6",lg:"3"},g.a.createElement(d.e,null,g.a.createElement(d.i,null,g.a.createElement("i",{className:"fa fa-align-justify"}),g.a.createElement("strong",null,"Add Favorite Ingredients")),g.a.createElement(d.f,null,g.a.createElement(d.t,{row:!0},g.a.createElement(d.l,{md:"12"},g.a.createElement(d.u,{type:"select",className:"400px",name:"multiple-select",id:"select"},this.state.allIngredients.map(function(e,t){return g.a.createElement("option",{key:t,value:e.iid},e.name)})))),g.a.createElement(d.d,{className:"d-inline-block btn-small btn-pill float-right btn-outline-danger",onClick:this.addIngredient},"Add")))),g.a.createElement(d.C,{isOpen:this.state.success,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},g.a.createElement(d.F,{toggle:this.toggleSuccess},"Change Success"),g.a.createElement(d.D,null,"Your change has been successful."),g.a.createElement(d.E,null,g.a.createElement(d.d,{color:"success",onClick:this.toggleSuccess},"OK")," ")),g.a.createElement(d.C,{isOpen:this.state.warning,toggle:this.toggleWarning,className:"modal-warning "+this.props.className},g.a.createElement(d.F,{toggle:this.toggleWarning},"Review Fail"),g.a.createElement(d.D,null,"Please provide un-empty reviews."),g.a.createElement(d.E,null,g.a.createElement(d.d,{color:"warning",onClick:this.toggleWarning},"OK")," ",g.a.createElement(d.d,{color:"secondary",onClick:this.toggleWarning},"Cancel")))))}}]),t}(o.Component);t.default=h}}]);
//# sourceMappingURL=5.74b349ac.chunk.js.map