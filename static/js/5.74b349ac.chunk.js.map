{"version":3,"sources":["views/UserFavorIngredient/UserFavorIngredient.js"],"names":["UserFavorIngredient","props","_this","Object","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","userID","sessionStorage","getItem","ingredients","iid","name","create_time","allIngredients","modal","success","warning","addIngredient","bind","E_Columbia_University_Courses_Database_project1_part3_database_project_yelp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","deleteIngredient","toggle","toggleSuccess","toggleWarning","updateFavorIngredients","axios","get","then","response","setState","data","error","console","log","_this2","_this3","undefined","window","alert","selected_value","document","querySelector","value","post","_this4","delete","_this5","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","reactstrap__WEBPACK_IMPORTED_MODULE_7__","xs","sm","lg","map","object","i","key","onClick","color","row","md","type","id","isOpen","Component"],"mappings":"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","file":"static/js/5.74b349ac.chunk.js","sourcesContent":["/**\r\n * Created by GraceHan on 11/15/18.\r\n */\r\nimport React, {Component, lazy, Suspense} from 'react';\r\nimport {\r\n\tBadge,\r\n\tCard,\r\n\tCardBody,\r\n\tCardFooter,\r\n\tCardHeader,\r\n\tCardTitle,\r\n\tList,\r\n\tListGroup,\r\n\tListGroupItem,\r\n\tListGroupItemHeading,\r\n\tListGroupItemText,\r\n\tCollapse,\r\n\tForm,\r\n\tFormGroup,\r\n\tLabel,\r\n\tModal,\r\n\tModalHeader,\r\n\tModalBody,\r\n\tModalFooter,\r\n\tInput,\r\n\tFade,\r\n\tCol,\r\n\tRow,\r\n\tButton\r\n} from 'reactstrap';\r\nimport {CustomTooltips} from '@coreui/coreui-plugin-chartjs-custom-tooltips';\r\nimport {getStyle, hexToRgba} from '@coreui/coreui/dist/js/coreui-utilities'\r\nimport axios from 'axios';\r\n\r\nconst Loading = () => <div>Loading...</div>\r\n\r\nclass UserFavorIngredient extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuserID: sessionStorage.getItem(\"user_id\"),\r\n\t\t\tingredients: [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"iid\": 1,\r\n\t\t\t\t\t\"name\": \"beef\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"iid\": 2,\r\n\t\t\t\t\t\"name\": \"pork\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"iid\": 3,\r\n\t\t\t\t\t\"name\": \"chicken\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"iid\": 4,\r\n\t\t\t\t\t\"name\": \"fish\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"iid\": 5,\r\n\t\t\t\t\t\"name\": \"vegetable\",\r\n\t\t\t\t\t\"create_time\": \"2018\\/10\\/9 19:04:11\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tallIngredients: [],\r\n\t\t\tmodal: false,\r\n\t\t\tsuccess: false,\r\n\t\t\twarning: false\r\n\t\t};\r\n\t\tthis.addIngredient = this.addIngredient.bind(this);\r\n\t\tthis.deleteIngredient = this.deleteIngredient.bind(this);\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t\tthis.toggleSuccess = this.toggleSuccess.bind(this);\r\n\t\tthis.toggleWarning = this.toggleWarning.bind(this);\r\n\t\tthis.updateFavorIngredients = this.updateFavorIngredients.bind(this);\r\n\r\n\t\tthis.updateFavorIngredients();\r\n\r\n\t\taxios.get('http://localhost:8080/api/ingredient')\r\n\t\t\t.then(response => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tallIngredients: response.data\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdateFavorIngredients() {\r\n\t\taxios.get('http://localhost:8080/api/ingredient/' + this.state.userID)\r\n\t\t\t.then(response => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tingredients: response.data\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\taddIngredient() {\r\n\t\tif (this.state.userID == undefined) {\r\n\t\t\twindow.alert(\"You have not login yet, please login first!\");\r\n\t\t} else {\r\n\t\t\tconst selected_value = document.querySelector('#select option:checked').value;\r\n\r\n\t\t\taxios.post('http://localhost:8080/api/ingredient/' + this.state.userID, {\r\n\t\t\t\tiid: selected_value\r\n\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tthis.toggleSuccess();\r\n\t\t\t\t\t\tthis.updateFavorIngredients();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteIngredient(iid) {\r\n\t\t//delete favorite category\r\n\t\tif (this.state.userID == undefined) {\r\n\t\t\twindow.alert(\"You have not login yet, please login first!\");\r\n\t\t} else {\r\n\t\t\taxios.delete('http://localhost:8080/api/ingredient/' + this.state.userID, {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tiid: iid\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tthis.toggleSuccess();\r\n\t\t\t\t\t\tthis.updateFavorIngredients();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t//add comment alert\r\n\ttoggle() {\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal,\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleSuccess() {\r\n\t\tthis.setState({\r\n\t\t\tsuccess: !this.state.success,\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleWarning() {\r\n\t\tthis.setState({\r\n\t\t\twarning: !this.state.warning,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"animated fadeIn normal-wrapper\">\r\n\t\t\t\t<h1>Your Favourite Ingredient</h1>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs=\"6\" sm=\"6\" lg=\"9\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t{this.state.ingredients.map((object, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <Col lg=\"6\" key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardBody><h4>{object.name}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline-block btn-small btn-pill float-right btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.deleteIngredient.bind(this, object.iid)}>Delete</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span color=\"info\">Added at {object.create_time}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs=\"6\" sm=\"6\" lg=\"3\">\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<CardHeader>\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-align-justify\"/><strong>Add Favorite Ingredients</strong>\r\n\t\t\t\t\t\t\t</CardHeader>\r\n\t\t\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<Input type=\"select\" className=\"400px\" name=\"multiple-select\" id=\"select\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.allIngredients.map((object, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i} value={object.iid}>{object.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t<Button className=\"d-inline-block btn-small btn-pill float-right btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.addIngredient}>Add</Button>\r\n\r\n\t\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Modal isOpen={this.state.success} toggle={this.toggleSuccess}\r\n\t\t\t\t\t\t   className={'modal-success ' + this.props.className}>\r\n\t\t\t\t\t\t<ModalHeader toggle={this.toggleSuccess}>Change Success</ModalHeader>\r\n\t\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t\tYour change has been successful.\r\n\t\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t\t<ModalFooter>\r\n\t\t\t\t\t\t\t<Button color=\"success\" onClick={this.toggleSuccess}>OK</Button>{' '}\r\n\t\t\t\t\t\t</ModalFooter>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t\t<Modal isOpen={this.state.warning} toggle={this.toggleWarning}\r\n\t\t\t\t\t\t   className={'modal-warning ' + this.props.className}>\r\n\t\t\t\t\t\t<ModalHeader toggle={this.toggleWarning}>Review Fail</ModalHeader>\r\n\t\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t\tPlease provide un-empty reviews.\r\n\t\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t\t<ModalFooter>\r\n\t\t\t\t\t\t\t<Button color=\"warning\" onClick={this.toggleWarning}>OK</Button>{' '}\r\n\t\t\t\t\t\t\t<Button color=\"secondary\" onClick={this.toggleWarning}>Cancel</Button>\r\n\t\t\t\t\t\t</ModalFooter>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UserFavorIngredient;\r\n"],"sourceRoot":""}