(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{283:function(e,t,a){"use strict";a.r(t);var n=a(6),l=a(7),s=a(9),c=a(8),o=a(10),i=a(11),r=a(1),g=a.n(r),u=a(3),d=(a(212),a(213),a(46)),m=a.n(d),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={userID:sessionStorage.getItem("user_id"),categories:[{cid:1,name:"Pizza",create_time:"2018/10/9 19:04:11"},{cid:2,name:"Chinese cuisine",create_time:"2018/10/9 19:04:11"}],allCategories:[],modal:!1,success:!1,warning:!1},a.addCategory=a.addCategory.bind(Object(i.a)(Object(i.a)(a))),a.deleteCategory=a.deleteCategory.bind(Object(i.a)(Object(i.a)(a))),a.toggle=a.toggle.bind(Object(i.a)(Object(i.a)(a))),a.toggleSuccess=a.toggleSuccess.bind(Object(i.a)(Object(i.a)(a))),a.toggleWarning=a.toggleWarning.bind(Object(i.a)(Object(i.a)(a))),a.updateFavorCategories=a.updateFavorCategories.bind(Object(i.a)(Object(i.a)(a))),a.updateFavorCategories(),m.a.get("http://localhost:8080/api/category").then(function(e){console.log(e.data),a.setState({allCategories:e.data})},function(e){console.log(e)}),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"updateFavorCategories",value:function(){var e=this;m.a.get("http://localhost:8080/api/category/"+this.state.userID).then(function(t){console.log(t.data),e.setState({categories:t.data})},function(e){console.log(e)})}},{key:"addCategory",value:function(){var e=this;if(void 0==this.state.userID)window.alert("You have not login yet, please login first!");else{var t=document.querySelector("#select option:checked").value;m.a.post("http://localhost:8080/api/category/"+this.state.userID,{cid:t}).then(function(t){e.toggleSuccess(),e.updateFavorCategories()},function(e){console.log(e)})}}},{key:"deleteCategory",value:function(e){var t=this;void 0==this.state.userID?window.alert("You have not login yet, please login first!"):m.a.delete("http://localhost:8080/api/category/"+this.state.userID,{data:{cid:e}}).then(function(e){t.toggleSuccess(),t.updateFavorCategories()},function(e){console.log(e)})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"toggleSuccess",value:function(){this.setState({success:!this.state.success})}},{key:"toggleWarning",value:function(){this.setState({warning:!this.state.warning})}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"animated fadeIn normal-wrapper"},g.a.createElement("h1",null,"Your Favourite Cateogry"),g.a.createElement(u.J,null,g.a.createElement(u.l,{xs:"6",sm:"6",lg:"9"},g.a.createElement(u.J,null,this.state.categories.map(function(t,a){return g.a.createElement(u.l,{lg:"6",key:a},g.a.createElement(u.e,null,g.a.createElement(u.f,null,g.a.createElement("h4",null,t.name),g.a.createElement(u.d,{className:"d-inline-block btn-small btn-pill float-right btn-outline-danger",onClick:e.deleteCategory.bind(e,t.cid)},"Delete"),g.a.createElement("span",{color:"info"},"Added at ",t.create_time))))}))),g.a.createElement(u.l,{xs:"6",sm:"6",lg:"3"},g.a.createElement(u.e,null,g.a.createElement(u.i,null,g.a.createElement("i",{className:"fa fa-align-justify"}),g.a.createElement("strong",null,"Add Favorite Category")),g.a.createElement(u.f,null,g.a.createElement(u.t,{row:!0},g.a.createElement(u.l,{md:"12"},g.a.createElement(u.u,{type:"select",className:"400px",name:"multiple-select",id:"select"},this.state.allCategories.map(function(e,t){return g.a.createElement("option",{key:t,value:e.cid},e.name)})))),g.a.createElement(u.d,{className:"d-inline-block btn-small btn-pill float-right btn-outline-danger",onClick:this.addCategory},"Add")))),g.a.createElement(u.C,{isOpen:this.state.success,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},g.a.createElement(u.F,{toggle:this.toggleSuccess},"Operation Success"),g.a.createElement(u.D,null,"Your change has been successfully updated."),g.a.createElement(u.E,null,g.a.createElement(u.d,{color:"success",onClick:this.toggleSuccess},"OK")," ")),g.a.createElement(u.C,{isOpen:this.state.warning,toggle:this.toggleWarning,className:"modal-warning "+this.props.className},g.a.createElement(u.F,{toggle:this.toggleWarning},"Review Fail"),g.a.createElement(u.D,null,"Please provide un-empty reviews."),g.a.createElement(u.E,null,g.a.createElement(u.d,{color:"warning",onClick:this.toggleWarning},"OK")," ",g.a.createElement(u.d,{color:"secondary",onClick:this.toggleWarning},"Cancel")))))}}]),t}(r.Component);t.default=h}}]);
//# sourceMappingURL=4.d09cd9ab.chunk.js.map